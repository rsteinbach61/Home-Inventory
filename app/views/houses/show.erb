
<br></br>
<div id="flash">
<% if flash.has?(:message) %>
  <h3 style="color:red;"><%= flash[:message] %></h3>
<% end %>
</div>

<h3 class="display"> Home: <%=@house.name%> </h3>

<form action="/houses/<%=@house.id%>/edit" method="POST" class="display">
  <input type="submit" name="Edit" id="Edit" Value="Edit">
</form>

<form action="/houses/<%=@house.id%>/delete" method="POST" class="display">
  <input type="hidden" id="hidden" name="_method" value="DELETE">
  <input type="submit" name="Delete" id="Delete" Value="Delete">
</form>

  <%@house.rooms.each do |room|%>
<div>
    <%if room.house_id == @house.id%>
      <h4 class="display">Room: <%=room.name%></h4>

      <form action="/rooms/<%=room.id%>/edit" method="POST" class="display">
        <input type="submit" name="Edit" id="Edit" Value="Edit">
      </form>

      <form action="/rooms/<%=room.id%>/delete" method="POST" class="display">
        <input type="hidden" id="hidden" name="_method" value="DELETE">
        <input type="submit" name="Delete" id="Delete" Value="Delete">
      </form>
</div>

  <h5>Items:</h5>
      <%Item.all.each do |item|%>
      <div>
        <%if item.room_id == room.id%>
          <p class="display"><a href="/items/<%=item.id%>"><%=item.name%></a></p>

          <form action="/items/<%=item.id%>/edit" method="POST" class="display">
            <input type="submit" name="Edit" id="Edit" Value="Edit">
          </form>

          <form action="/items/<%=item.id%>/delete" method="POST" class="display">
            <input type="hidden" id="hidden" name="_method" value="DELETE">
            <input type="submit" name="Delete" id="Delete" Value="Delete">
          </form>

        <%end%>
      <%end%>
    <%end%>
  <%end%>

</div>
  <h3>Create New Room</h3>
    <form action="/rooms/new" method="POST">
      <p><input type="text" name="name" placeholder="name:" required="true"></p>
      <input type="hidden" name="house_id" value="<%=@house.id%>">
      <input type="submit" value="Create Room">
    </form>

    <div id="flash">
    <% if flash.has?(:room_error) %>
      <h3 style="color:red;"><%= flash[:room_error] %></h3>
    <% end %>
    </div>
    
    <h3>Create New Item</h3>
      <form action="/items/new" method="POST">
        <p><input type="text" name="name" placeholder="name:" required="true"></p>
        <p><input type="date" name="purchase_date" placeholder="Purchase Date:"></p>
        <p><input type="number" name="value" placeholder="Value" ></p>
        <p><input type="text" name="serial_number" placeholder="serial#" ></p>
        <input type="hidden" name="house_id" value="<%=@house.id%>">
        <% @house.rooms.each do |room| %>
          <label><%= room.name %></label>
          <input type="radio" name="room_id" value="<%=room.id%>" required="true">
          <%end%>
        <input type="submit" value="Create Item">
      </form>



    <h3>Upload Picture or Receipt</h3>
      <form action="/items/upload" method="POST" enctype="multipart/form-data">
      <p><input type="file" name="file" ></p>
      <input type="hidden" name="house_id" value="<%=@house.id%>">

      <label>Choose Item</label>
      <select name="item">
        <%@house.items.each do |item|%>
          <option value="<%=item.name%>"><%=item.name%></option>
        <%end%>
      </select>

      <input type="submit" value="Upload File">
      </form>
        <br></br>
        <br></br>
        <br></br>
